# Copyright 2025 Nokia
# Licensed under the BSD 3-Clause License.
# SPDX-License-Identifier: BSD-3-Clause

---
- hosts: all
  connection: netconf
  gather_facts: No

  collections:
  - nokia.sros

  tasks:
  - name: get state
    ansible.netcommon.netconf_get:
      filter: <state xmlns="urn:nokia.com:sros:ns:yang:sr:state"><system/></state>
      display: json
    register: result

  - name: save result
    set_fact:
      my_var: "{{ result }}"

  - name: display results
    debug:
      var: my_var.output.data.state.system.version
...